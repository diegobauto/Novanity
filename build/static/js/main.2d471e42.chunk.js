(this.webpackJsonpnovanity=this.webpackJsonpnovanity||[]).push([[0],{14:function(e,t,a){e.exports={main:"Login_main__1x5o2",card:"Login_card__1JbmJ",login:"Login_login__3v0vR",h1:"Login_h1__1THE4",p:"Login_p__1kKqe",form:"Login_form__1v13g",fill:"Login_fill__22ZdD",button:"Login_button__3PNqr",usuario:"Login_usuario__27VKe",formRegister:"Login_formRegister__3hKVE",h4:"Login_h4__3C0Wp",controls:"Login_controls__2svKU",buttons:"Login_buttons__1uFrP",etiqueta:"Login_etiqueta__1Ggs3",link:"Login_link__3hXIe"}},62:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a.n(n),c=a(43),s=a.n(c),i=a(0),o=a.n(i),u=a(1),j=a(11),l=a(27),b=a(15),d=a(44),h=a(32),O=a(26),f=a(45),p=Object(f.a)();Object(d.a)({apiKey:"AIzaSyDYsAy0a7WHRoKqfyyfCyVI-i6gcKfSPbY",authDomain:"novanity-database.firebaseapp.com",projectId:"novanity-database",storageBucket:"novanity-database.appspot.com",messagingSenderId:"338645901597",appId:"1:338645901597:web:0993088c629e20625d81f4",measurementId:"G-5CWW74XN6J"});var x=Object(O.c)(),m=Object(h.b)(),v=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.a)(m,t,a);case 3:return n=e.sent,console.log(n),console.log(n.user),console.log(n.user.uid),r={id:n.user.uid,email:n.user.email},e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e.catch(0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.d)(m,t,a);case 3:return n=e.sent,window.usuario=n.user,p.emit("usuario cambio",n.user),e.abrupt("return",n.user);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.e)(m);case 3:t=e.sent,console.log(t),console.log("Me sali...!"),window.usuario=null,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();function N(e){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(o.a.mark((function e(t){var a,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(O.a)(x,"usuarios"),n=Object(O.d)(a,Object(O.e)("Correo","==",t)),e.next=4,Object(O.b)(n);case 4:return r=e.sent,c=r.docs[0].data().Rol,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(o.a.mark((function e(t){var a,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(O.a)(x,"usuarios"),n=Object(O.d)(a,Object(O.e)("Correo","==",t)),e.next=4,Object(O.b)(n);case 4:return r=e.sent,c=r.docs.length>0?r.docs[0].data().Estado:2,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(h.c)(m,(function(e){e?(window.usuario=e,window.location.hash="/home",p.emit("usuario cambio",e)):(window.usuario=null,window.location.hash="/",p.emit("usuario cambio",null))}));var S=a(14),C=a.n(S),E=a(5);function L(){return Object(E.jsx)(l.a,{children:Object(E.jsxs)(b.c,{children:[Object(E.jsx)(b.a,{path:"/users",children:Object(E.jsx)(R,{})}),Object(E.jsx)(b.a,{path:"/products",children:Object(E.jsx)(F,{})}),Object(E.jsx)(b.a,{path:"/ventas",children:Object(E.jsx)(K,{})}),Object(E.jsx)(b.a,{path:"/home",children:Object(E.jsx)(P,{})}),Object(E.jsx)(b.a,{path:"/add-user",children:Object(E.jsx)(q,{})}),Object(E.jsx)(b.a,{path:"/",children:Object(E.jsx)(V,{})})]})})}function I(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!!window.usuario),s=Object(j.a)(c,2),i=s[0],b=s[1];function d(e){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,N(t.email);case 4:2===e.sent&&r(!0),b(!!t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){d(window.usuario),p.on("usuario cambio",function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(E.jsx)("header",{children:i&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h1",{children:"Novanity"}),Object(E.jsxs)("nav",{children:[Object(E.jsxs)(l.b,{to:"/home",children:[Object(E.jsx)("i",{className:"fas fa-chevron-right"}),"Inicio"]}),a&&Object(E.jsxs)(l.b,{to:"/users",children:[Object(E.jsx)("i",{className:"fas fa-user"}),"Usuarios"]}),Object(E.jsxs)(l.b,{to:"/products",children:[Object(E.jsx)("i",{className:"fas fa-people-carry"}),"Productos"]}),Object(E.jsxs)(l.b,{to:"/ventas",children:[Object(E.jsx)("i",{className:"fas fa-hand-holding-usd"}),"Ventas"]}),Object(E.jsx)(l.b,{to:"/",onClick:g,children:"Cerrar Sesion"})]})]})})}function P(){var e,t=Object(n.useState)(null===(e=window.usuario)||void 0===e?void 0:e.email),a=Object(j.a)(t,2),r=a[0],c=a[1];console.log(window.usuario);var s=Object(n.useState)(!!window.usuario),i=Object(j.a)(s,2),l=i[0],b=i[1];Object(n.useEffect)((function(){p.on("usuario cambio",function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:c(t.email),b(!!t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var d=Object(n.useState)(!1),h=Object(j.a)(d,2),O=h[0],f=h[1];function x(e){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,N(t.email);case 4:2===e.sent&&f(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){x(window.usuario),p.on("usuario cambio",function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(I,{}),l&&Object(E.jsxs)("main",{children:[Object(E.jsxs)("section",{className:"user_login",children:[Object(E.jsx)("i",{className:"fas fa-bell"}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{className:C.a.usuario,children:r||"Bienvenido"}),Object(E.jsx)("i",{className:"fas fa-chevron-down"})]})]}),Object(E.jsxs)("section",{className:"category",children:[Object(E.jsx)("h2",{className:"title",children:"Panel administrativo"}),O&&Object(E.jsx)("div",{children:Object(E.jsxs)("a",{href:"#/users",children:[Object(E.jsxs)("figure",{children:[Object(E.jsx)("h2",{children:"Usuarios"}),Object(E.jsx)("p",{children:"18"})]}),Object(E.jsx)("i",{className:"fas fa-users"})]})}),Object(E.jsx)("div",{children:Object(E.jsxs)("a",{href:"#/products",children:[Object(E.jsxs)("figure",{children:[Object(E.jsx)("h2",{children:"Productos"}),Object(E.jsx)("p",{children:"17"})]}),Object(E.jsx)("i",{className:"fas fa-truck"})]})}),Object(E.jsx)("div",{children:Object(E.jsxs)("a",{href:"#/ventas",children:[Object(E.jsxs)("figure",{children:[Object(E.jsx)("h2",{children:"Ventas"}),Object(E.jsx)("p",{children:"9"})]}),Object(E.jsx)("i",{className:"fas fa-chart-line"})]})})]}),Object(E.jsx)("div",{})]})]})}function R(){var e,t=Object(n.useState)(!!window.usuario),a=Object(j.a)(t,2),r=a[0],c=a[1];function s(e){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!!t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){s(window.usuario),p.on("usuario cambio",function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(I,{}),r&&Object(E.jsxs)("main",{children:[Object(E.jsxs)("section",{className:"user_login",children:[Object(E.jsx)("i",{className:"fas fa-bell"}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{className:C.a.usuario,children:null===(e=window.usuario)||void 0===e?void 0:e.email}),Object(E.jsx)("i",{className:"fas fa-chevron-down"})]})]}),Object(E.jsx)("h2",{className:"title2",children:"Gestionar Usuarios"}),Object(E.jsx)("section",{className:"table",children:Object(E.jsx)("iframe",{title:"usuarios",src:"jsgrid/tabla-usuario/basic.html"})})]})]})}function F(){var e,t=Object(n.useState)(!!window.usuario),a=Object(j.a)(t,2),r=a[0],c=a[1];function s(e){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!!t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){s(window.usuario),p.on("usuario cambio",function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(I,{}),r&&Object(E.jsxs)("main",{children:[Object(E.jsxs)("section",{className:"user_login",children:[Object(E.jsx)("i",{className:"fas fa-bell"}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{className:C.a.usuario,children:null===(e=window.usuario)||void 0===e?void 0:e.email}),Object(E.jsx)("i",{className:"fas fa-chevron-down"})]})]}),Object(E.jsx)("h2",{className:"title2",children:"Gestionar Productos"}),Object(E.jsx)("section",{className:"table",children:Object(E.jsx)("iframe",{title:"productos",src:"jsgrid/tabla-productos/basic.html"})})]})]})}function K(){var e,t=Object(n.useState)(!!window.usuario),a=Object(j.a)(t,2),r=a[0],c=a[1];function s(e){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!!t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){s(window.usuario),p.on("usuario cambio",function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(I,{}),r&&Object(E.jsxs)("main",{children:[Object(E.jsxs)("section",{className:"user_login",children:[Object(E.jsx)("i",{className:"fas fa-bell"}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{className:C.a.usuario,children:null===(e=window.usuario)||void 0===e?void 0:e.email}),Object(E.jsx)("i",{className:"fas fa-chevron-down"})]})]}),Object(E.jsx)("h2",{className:"title2",children:"Gestionar Ventas"}),Object(E.jsx)("section",{className:"table",children:Object(E.jsx)("iframe",{title:"ventas",src:"jsgrid/tabla-ventas/basic.html"})})]})]})}function V(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(j.a)(c,2),i=s[0],b=s[1],d=Object(n.useState)(!1),h=Object(j.a)(d,2),O=h[0],f=h[1],p=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("entro"),e.prev=1,f(!1),e.next=5,w(a,i);case 5:t=e.sent,console.log("autenticado",t),window.location.hash="/home",e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),f(!0),console.log("esta fallando",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("main",{className:C.a.main,children:[Object(E.jsx)("div",{className:C.a.card}),Object(E.jsxs)("section",{className:C.a.login,children:[Object(E.jsx)("h1",{className:C.a.h1,children:"Control de Ventas"}),Object(E.jsx)("p",{className:C.a.p,children:"Bienvenidos"}),Object(E.jsxs)("div",{children:[Object(E.jsx)("form",{className:C.a.form,children:Object(E.jsx)("input",{className:C.a.fill,type:"text",placeholder:"Correo",onChange:function(e){return r(e.target.value)}})}),Object(E.jsx)("form",{className:C.a.form,children:Object(E.jsx)("input",{className:C.a.fill,type:"password",placeholder:"Contrase\xf1a",onChange:function(e){return b(e.target.value)}})}),O&&Object(E.jsx)("div",{children:"Autenticacion no valida"}),Object(E.jsxs)("p",{className:C.a.link,children:["No tienes cuenta?"," ",Object(E.jsx)(l.b,{to:"/add-user",children:Object(E.jsx)("span",{children:"Registrate"})})]}),Object(E.jsx)("button",{className:C.a.button,value:"Ingresar",onClick:p,children:"Ingresar"})]})]})]})})}function q(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),s=Object(j.a)(c,2),i=s[0],b=s[1],d=Object(n.useState)(null),h=Object(j.a)(d,2),O=h[0],f=h[1],p=Object(n.useState)(!0),x=Object(j.a)(p,2),m=x[0],w=x[1],g=Object(n.useState)(!0),N=Object(j.a)(g,2),_=N[0],k=N[1],S=Object(n.useState)(!1),L=Object(j.a)(S,2),I=L[0],P=L[1],R=Object(n.useState)(!0),F=Object(j.a)(R,2),K=F[0],V=F[1],q=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(i.length),a){e.next=3;break}return e.abrupt("return");case 3:if(i){e.next=5;break}return e.abrupt("return");case 5:if(i===O){e.next=10;break}return k(!1),e.abrupt("return");case 10:k(!0);case 11:return e.next=13,y(a);case 13:if(t=e.sent,console.log(t),1===t){e.next=20;break}return w(!1),e.abrupt("return");case 20:w(!0);case 21:if(!(i.length<6)){e.next=26;break}return V(!1),e.abrupt("return");case 26:V(!0);case 27:return e.prev=27,P(!1),e.next=31,v(a,i);case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(27),P(!0),console.log("esta fallando",e.t0);case 37:case"end":return e.stop()}}),e,null,[[27,33]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("section",{className:C.a.formRegister,children:[Object(E.jsx)("h4",{className:C.a.h4,children:"Registrar Nuevo Usuario"}),Object(E.jsx)("input",{className:C.a.controls,type:"email",name:"correo",id:"correo",placeholder:"Correo",onChange:function(e){r(e.target.value)}}),Object(E.jsx)("input",{className:C.a.controls,type:"password",name:"password",id:"password",placeholder:"Contrase\xf1a",onChange:function(e){b(e.target.value)}}),Object(E.jsx)("input",{className:C.a.controls,type:"password",name:"ConfirmarPassword",id:"ConfirmarPassword",placeholder:"Confirmar contrase\xf1a",onChange:function(e){f(e.target.value)}}),!m&&Object(E.jsx)("h4",{children:"El correo no se encuentra autorizado"}),!_&&Object(E.jsx)("h4",{children:"No coincide la contrase\xf1a "}),I&&Object(E.jsx)("h4",{children:" Error: Se requiere una cuenta de gmail "}),!K&&Object(E.jsx)("h4",{children:" Error: La contrase\xf1a debe tener 6 o mas caracteres "}),Object(E.jsx)("button",{className:C.a.buttons,onClick:q,children:"Crear Registro"}),Object(E.jsxs)("p",{children:["Ya tienes cuenta?"," ",Object(E.jsx)(l.b,{to:"/",children:Object(E.jsx)("span",{children:"Inicia Sesion"})})]})]})})}s.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(L,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.2d471e42.chunk.js.map