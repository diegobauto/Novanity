{"version":3,"sources":["Login.module.css","LoginDatabase.js","App.js","index.js"],"names":["module","exports","eventBus","createNanoEvents","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","database","getFirestore","auth","getAuth","crearUsuario","email","password","a","createUserWithEmailAndPassword","credencialesUsuario","console","log","user","uid","id","Error","loginUsuario","signInWithEmailAndPassword","window","usuario","emit","logOutUsuario","signOut","respuesta","getRolUsuario","rolRef","collection","q","query","where","getDocs","docs","role","data","Rol","getEstadoUsuario","estado","length","Estado","onAuthStateChanged","location","hash","App","path","Users","Productos","Ventas","Home","AddUser","Login","Header","useState","esAdministrador","setEsAdministrador","setUsuario","cargarRole","useEffect","on","to","className","onClick","setEmail","esAdmin","setEsAdmin","style","href","title","src","login","setLogin","setPassword","error","setError","handleClick","main","card","h1","p","form","fill","type","placeholder","onChange","e","target","value","link","button","correo","setCorreo","confirmarPassword","setconfirmarPassword","correoAutorizado","setCorreoAutorizado","igualPassword","setigualPassword","longPassword","setLongPassword","estadoUsuario","formRegister","h4","controls","name","buttons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2d471e42.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Login_main__1x5o2\",\"card\":\"Login_card__1JbmJ\",\"login\":\"Login_login__3v0vR\",\"h1\":\"Login_h1__1THE4\",\"p\":\"Login_p__1kKqe\",\"form\":\"Login_form__1v13g\",\"fill\":\"Login_fill__22ZdD\",\"button\":\"Login_button__3PNqr\",\"usuario\":\"Login_usuario__27VKe\",\"formRegister\":\"Login_formRegister__3hKVE\",\"h4\":\"Login_h4__3C0Wp\",\"controls\":\"Login_controls__2svKU\",\"buttons\":\"Login_buttons__1uFrP\",\"etiqueta\":\"Login_etiqueta__1Ggs3\",\"link\":\"Login_link__3hXIe\"};","//Configuracioon inical\nimport { initializeApp } from \"firebase/app\";\n//referencia a la utenticacion\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  signOut,\n  onAuthStateChanged,\n} from \"firebase/auth\";\n//referencia a la base de datos\nimport {\n  getFirestore,\n  collection,\n  query,\n  where,\n  getDocs,\n} from \"firebase/firestore\";\nimport { createNanoEvents } from \"nanoevents\";\n\nexport const eventBus = createNanoEvents();\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDYsAy0a7WHRoKqfyyfCyVI-i6gcKfSPbY\",\n  authDomain: \"novanity-database.firebaseapp.com\",\n  projectId: \"novanity-database\",\n  storageBucket: \"novanity-database.appspot.com\",\n  messagingSenderId: \"338645901597\",\n  appId: \"1:338645901597:web:0993088c629e20625d81f4\",\n  measurementId: \"G-5CWW74XN6J\",\n};\n\ninitializeApp(firebaseConfig);\n\nconst database = getFirestore();\n\nconst auth = getAuth();\n\n//crear usuario\nexport const crearUsuario = async (email, password) => {\n  try {\n    const credencialesUsuario = await createUserWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n    console.log(credencialesUsuario);\n    console.log(credencialesUsuario.user);\n    console.log(credencialesUsuario.user.uid);\n    const user = {\n      id: credencialesUsuario.user.uid,\n      email: credencialesUsuario.user.email,\n    };\n    //guardarDatabase(\"listaUsuarios\", user);\n    return user;\n  } catch (e) {\n    throw new Error(e);\n  }\n};\n\n// Login Usuarios\nexport const loginUsuario = async (email, password) => {\n  try {\n    const credencialesUsuario = await signInWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n\n    window.usuario = credencialesUsuario.user;\n    eventBus.emit(\"usuario cambio\", credencialesUsuario.user);\n    return credencialesUsuario.user;\n  } catch (e) {\n    throw new Error(e);\n  }\n};\n\n// LogOut -> salir\nexport const logOutUsuario = async () => {\n  try {\n    const respuesta = await signOut(auth);\n    console.log(respuesta);\n    console.log(\"Me sali...!\");\n    window.usuario = null;\n  } catch (e) {\n    throw new Error(e);\n  }\n};\n\n//  datos usuario\nexport const datosUsuario = () => {\n  try {\n    const user = auth.currentUser;\n\n    if (user) {\n      return user;\n    } else {\n      return undefined;\n    }\n  } catch (e) {\n    throw new Error(e);\n  }\n};\n\nonAuthStateChanged(auth, (user) => {\n  if (user) {\n    window.usuario = user;\n    window.location.hash = \"/home\";\n    eventBus.emit(\"usuario cambio\", user);\n  } else {\n    window.usuario = null;\n    window.location.hash = \"/\";\n    eventBus.emit(\"usuario cambio\", null);\n  }\n});\n\n//base de datos\n\nexport async function getRolUsuario(email) {\n  const rolRef = collection(database, \"usuarios\");\n  const q = query(rolRef, where(\"Correo\", \"==\", email));\n  const docs = await getDocs(q);\n  const role = docs.docs[0].data().Rol;\n  return role;\n}\n\nexport async function getEstadoUsuario(email) {\n  const rolRef = collection(database, \"usuarios\");\n  const q = query(rolRef, where(\"Correo\", \"==\", email));\n  const docs = await getDocs(q);\n  let estado = docs.docs.length > 0 ? docs.docs[0].data().Estado : 2;\n\n  return estado;\n}\n","import React, { useEffect, useState } from \"react\";\nimport { HashRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport {\n  crearUsuario,\n  loginUsuario,\n  logOutUsuario,\n  getRolUsuario,\n  eventBus,\n  getEstadoUsuario,\n} from \"./LoginDatabase\";\nimport style from \"./Login.module.css\";\n\nexport default function App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/users\">\n          <Users />\n        </Route>\n        <Route path=\"/products\">\n          <Productos />\n        </Route>\n        <Route path=\"/ventas\">\n          <Ventas />\n        </Route>\n        <Route path=\"/home\">\n          <Home />\n        </Route>\n        <Route path=\"/add-user\">\n          <AddUser />\n        </Route>\n        <Route path=\"/\">\n          <Login />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nfunction Header() {\n  const [esAdministrador, setEsAdministrador] = useState(false);\n  const [usuario, setUsuario] = useState(!!window.usuario);\n\n  useEffect(() => {\n    cargarRole(window.usuario);\n\n    eventBus.on(\"usuario cambio\", async (user) => {\n      cargarRole(user);\n    });\n  }, []);\n\n  async function cargarRole(user) {\n    if (user == null) return;\n    let role = await getRolUsuario(user.email);\n    if (role === 2) setEsAdministrador(true);\n    setUsuario(!!user);\n  }\n\n  return (\n    <header>\n      {usuario && (\n        <>\n          <h1>Novanity</h1>\n          <nav>\n            <Link to=\"/home\">\n              <i className=\"fas fa-chevron-right\"></i>Inicio\n            </Link>\n            {esAdministrador && (\n              <Link to=\"/users\">\n                <i className=\"fas fa-user\"></i>Usuarios\n              </Link>\n            )}\n            <Link to=\"/products\">\n              <i className=\"fas fa-people-carry\"></i>Productos\n            </Link>\n            <Link to=\"/ventas\">\n              <i className=\"fas fa-hand-holding-usd\"></i>Ventas\n            </Link>\n            <Link to=\"/\" onClick={logOutUsuario}>\n              Cerrar Sesion\n            </Link>\n          </nav>\n        </>\n      )}\n    </header>\n  );\n}\n\nfunction Home() {\n  const [email, setEmail] = useState(window.usuario?.email);\n  console.log(window.usuario);\n  const [usuario, setUsuario] = useState(!!window.usuario);\n\n  useEffect(() => {\n    eventBus.on(\"usuario cambio\", async (user) => {\n      if (user == null) return;\n      setEmail(user.email);\n      setUsuario(!!user);\n    });\n  }, []);\n\n  const [esAdmin, setEsAdmin] = useState(false);\n\n  useEffect(() => {\n    cargarRole(window.usuario);\n\n    eventBus.on(\"usuario cambio\", async (user) => {\n      cargarRole(user);\n    });\n  }, []);\n\n  async function cargarRole(user) {\n    if (user == null) return;\n    let role = await getRolUsuario(user.email);\n    if (role === 2) setEsAdmin(true);\n  }\n\n  return (\n    <>\n      <Header />\n      {usuario && (\n        <main>\n          <section className=\"user_login\">\n            <i className=\"fas fa-bell\"></i>\n            <div>\n              <h2 className={style.usuario}>{email || \"Bienvenido\"}</h2>\n\n              <i className=\"fas fa-chevron-down\"></i>\n            </div>\n          </section>\n          <section className=\"category\">\n            <h2 className=\"title\">Panel administrativo</h2>\n\n            {esAdmin && (\n              <div>\n                <a href=\"#/users\">\n                  <figure>\n                    <h2>Usuarios</h2>\n                    <p>18</p>\n                  </figure>\n                  <i className=\"fas fa-users\"></i>\n                </a>\n              </div>\n            )}\n\n            <div>\n              <a href=\"#/products\">\n                <figure>\n                  <h2>Productos</h2>\n                  <p>17</p>\n                </figure>\n                <i className=\"fas fa-truck\"></i>\n              </a>\n            </div>\n            <div>\n              <a href=\"#/ventas\">\n                <figure>\n                  <h2>Ventas</h2>\n                  <p>9</p>\n                </figure>\n                <i className=\"fas fa-chart-line\"></i>\n              </a>\n            </div>\n          </section>\n          <div />\n        </main>\n      )}\n    </>\n  );\n}\n\nfunction Users() {\n  const [usuario, setUsuario] = useState(!!window.usuario);\n  useEffect(() => {\n    cargarRole(window.usuario);\n\n    eventBus.on(\"usuario cambio\", async (user) => {\n      cargarRole(user);\n    });\n  }, []);\n\n  async function cargarRole(user) {\n    setUsuario(!!user);\n  }\n  return (\n    <>\n      <Header />\n      {usuario && (\n        <main>\n          <section className=\"user_login\">\n            <i className=\"fas fa-bell\"></i>\n            <div>\n              <h2 className={style.usuario}>{window.usuario?.email}</h2>\n              <i className=\"fas fa-chevron-down\"></i>\n            </div>\n          </section>\n          <h2 className=\"title2\">Gestionar Usuarios</h2>\n          <section className=\"table\">\n            <iframe\n              title=\"usuarios\"\n              src=\"jsgrid/tabla-usuario/basic.html\"\n            ></iframe>\n          </section>\n        </main>\n      )}\n    </>\n  );\n}\n\nfunction Productos() {\n  const [usuario, setUsuario] = useState(!!window.usuario);\n  useEffect(() => {\n    cargarRole(window.usuario);\n\n    eventBus.on(\"usuario cambio\", async (user) => {\n      cargarRole(user);\n    });\n  }, []);\n\n  async function cargarRole(user) {\n    setUsuario(!!user);\n  }\n  return (\n    <>\n      <Header></Header>\n      {usuario && (\n        <main>\n          <section className=\"user_login\">\n            <i className=\"fas fa-bell\"></i>\n            <div>\n              <h2 className={style.usuario}>{window.usuario?.email}</h2>\n              <i className=\"fas fa-chevron-down\"></i>\n            </div>\n          </section>\n\n          <h2 className=\"title2\">Gestionar Productos</h2>\n          <section className=\"table\">\n            <iframe\n              title=\"productos\"\n              src=\"jsgrid/tabla-productos/basic.html\"\n            ></iframe>\n          </section>\n        </main>\n      )}\n    </>\n  );\n}\n\nfunction Ventas() {\n  const [usuario, setUsuario] = useState(!!window.usuario);\n  useEffect(() => {\n    cargarRole(window.usuario);\n\n    eventBus.on(\"usuario cambio\", async (user) => {\n      cargarRole(user);\n    });\n  }, []);\n\n  async function cargarRole(user) {\n    setUsuario(!!user);\n  }\n  return (\n    <>\n      <Header></Header>\n      {usuario && (\n        <main>\n          <section className=\"user_login\">\n            <i className=\"fas fa-bell\"></i>\n            <div>\n              <h2 className={style.usuario}>{window.usuario?.email}</h2>\n              <i className=\"fas fa-chevron-down\"></i>\n            </div>\n          </section>\n          <h2 className=\"title2\">Gestionar Ventas</h2>\n          <section className=\"table\">\n            <iframe\n              title=\"ventas\"\n              src=\"jsgrid/tabla-ventas/basic.html\"\n            ></iframe>\n          </section>\n        </main>\n      )}\n    </>\n  );\n}\n\nfunction Login() {\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  const handleClick = async () => {\n    console.log(\"entro\");\n    //crearUsuario(\"maricelacoral033@gmail.com\", \"123456\");\n    try {\n      setError(false);\n      const usuario = await loginUsuario(login, password);\n      console.log(\"autenticado\", usuario);\n      window.location.hash = \"/home\";\n    } catch (err) {\n      setError(true);\n      console.log(\"esta fallando\", err);\n    }\n  };\n  return (\n    <>\n      <main className={style.main}>\n        <div className={style.card}></div>\n        <section className={style.login}>\n          <h1 className={style.h1}>Control de Ventas</h1>\n          <p className={style.p}>Bienvenidos</p>\n          <div>\n            <form className={style.form}>\n              <input\n                className={style.fill}\n                type=\"text\"\n                placeholder=\"Correo\"\n                onChange={(e) => setLogin(e.target.value)}\n              />\n            </form>\n            <form className={style.form}>\n              <input\n                className={style.fill}\n                type=\"password\"\n                placeholder=\"Contraseña\"\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </form>\n            {error && <div>Autenticacion no valida</div>}\n\n            <p className={style.link}>\n              No tienes cuenta?{\" \"}\n              <Link to=\"/add-user\">\n                <span>Registrate</span>\n              </Link>\n            </p>\n\n            <button\n              className={style.button}\n              value=\"Ingresar\"\n              onClick={handleClick}\n            >\n              Ingresar\n            </button>\n          </div>\n        </section>\n      </main>\n    </>\n  );\n}\n\nfunction AddUser() {\n  const [correo, setCorreo] = useState(null);\n  const [password, setPassword] = useState(null);\n  const [confirmarPassword, setconfirmarPassword] = useState(null);\n  const [correoAutorizado, setCorreoAutorizado] = useState(true);\n  const [igualPassword, setigualPassword] = useState(true);\n  const [error, setError] = useState(false);\n  const [longPassword, setLongPassword] = useState(true);\n\n  const handleClick = async () => {\n    console.log(password.length);\n    if (!correo) return;\n    if (!password) return;\n    if (password !== confirmarPassword) {\n      setigualPassword(false);\n      return;\n    } else {\n      setigualPassword(true);\n    }\n\n    let estadoUsuario = await getEstadoUsuario(correo);\n    console.log(estadoUsuario);\n    if (estadoUsuario !== 1) {\n      setCorreoAutorizado(false);\n      return;\n    } else {\n      setCorreoAutorizado(true);\n    }\n    if (password.length < 6) {\n      setLongPassword(false);\n      return;\n    } else {\n      setLongPassword(true);\n    }\n\n    try {\n      setError(false);\n      await crearUsuario(correo, password);\n    } catch (err) {\n      setError(true);\n      console.log(\"esta fallando\", err);\n    }\n  };\n  return (\n    <>\n      <section className={style.formRegister}>\n        <h4 className={style.h4}>Registrar Nuevo Usuario</h4>\n        <input\n          className={style.controls}\n          type=\"email\"\n          name=\"correo\"\n          id=\"correo\"\n          placeholder=\"Correo\"\n          onChange={(e) => {\n            setCorreo(e.target.value);\n          }}\n        />\n        <input\n          className={style.controls}\n          type=\"password\"\n          name=\"password\"\n          id=\"password\"\n          placeholder=\"Contraseña\"\n          onChange={(e) => {\n            setPassword(e.target.value);\n          }}\n        />\n        <input\n          className={style.controls}\n          type=\"password\"\n          name=\"ConfirmarPassword\"\n          id=\"ConfirmarPassword\"\n          placeholder=\"Confirmar contraseña\"\n          onChange={(e) => {\n            setconfirmarPassword(e.target.value);\n          }}\n        />\n\n        {!correoAutorizado && <h4>El correo no se encuentra autorizado</h4>}\n        {!igualPassword && <h4>No coincide la contraseña </h4>}\n        {error && <h4> Error: Se requiere una cuenta de gmail </h4>}\n        {!longPassword && (\n          <h4> Error: La contraseña debe tener 6 o mas caracteres </h4>\n        )}\n\n        <button className={style.buttons} onClick={handleClick}>\n          Crear Registro\n        </button>\n        <p>\n          Ya tienes cuenta?{\" \"}\n          <Link to=\"/\">\n            <span>Inicia Sesion</span>\n          </Link>\n        </p>\n      </section>\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}